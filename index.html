<!DOCTYPE html><html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Gerar Pix GhostsPay</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: auto; padding: 20px; text-align: center; }
    button { padding: 10px 20px; font-size: 18px; cursor: pointer; }
    input, label { display: block; margin: 10px auto; font-size: 16px; }
    #resultado { margin-top: 20px; white-space: pre-wrap; word-break: break-word; }
    img { margin-top: 10px; max-width: 100%; height: auto; }
  </style>
</head>
<body>
  <h1>Gerar Pix (GhostsPay)</h1><label for="nome">Nome:</label> <input type="text" id="nome" value="João da Silva">

<label for="email">Email:</label> <input type="email" id="email" value="joao@example.com">

<label for="cpf">CPF:</label> <input type="text" id="cpf" value="12345678901">

<label for="valor">Valor (R$):</label> <input type="number" id="valor" value="50">

<button onclick="gerarPix()">Gerar Pix</button>

  <div id="resultado"></div>  <script>
    async function gerarPix() {
      const nome = document.getElementById('nome').value;
      const email = document.getElementById('email').value;
      const cpf = document.getElementById('cpf').value;
      const valor = parseFloat(document.getElementById('valor').value) * 100; // converter para centavos

      const resultado = document.getElementById('resultado');
      resultado.innerHTML = 'Gerando Pix...';

      const payload = {
        name: nome,
        email: email,
        cpf: cpf,
        phone: "11999999999",
        paymentMethod: "PIX",
        amount: valor,
        traceable: true,
        externalId: "pedido_" + Date.now(),
        postbackUrl: "https://seudominio.com.br/webhook/pix",
        items: [
          {
            unitPrice: valor,
            title: "Produto Personalizado",
            quantity: 1,
            tangible: false
          }
        ]
      };

      try {
        const response = await fetch("https://app.ghostspaysv1.com/api/v1/transaction.purchase", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": "d44908c2-c9fc-41a8-8c8c-d6838b3f0e84"
          },
          body: JSON.stringify(payload)
        });

        const data = await response.json();

        resultado.innerHTML = `
          <b>Status:</b> ${data.status}<br>
          <b>Código Pix (copia e cola):</b><br>${data.pixCode || 'Não gerado'}<br>
          <b>QR Code:</b><br>
          <img src="${data.pixQrCode}" alt="QR Code Pix">
        `;
      } catch (err) {
        resultado.innerHTML = 'Erro ao gerar Pix: ' + err.message;
      }
    }
  </script></body>
</html>
